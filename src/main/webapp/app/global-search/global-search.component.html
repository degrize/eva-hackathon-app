<div class="list-group list-group-flush" *ngIf="mandataireDelegateurs$ | async as mandataireDelegateurs; else searchNotFound">
  <a
    *ngFor="let mandataireDelegateur of mandataireDelegateurs"
    [routerLink]="['/mandataire-delegateur', mandataireDelegateur.id, 'edit']"
    class="list-group-item list-group-item-action flex-column align-items-start py-4 px-4"
  >
    <div class="d-flex w-100 justify-content-between">
      <div>
        <div class="d-flex w-100 align-items-center">
          <img
            *ngIf="mandataireDelegateur.photo; else defaultPicture"
            [src]="'data:' + mandataireDelegateur?.photoContentType + ';base64,' + mandataireDelegateur?.photo"
            [alt]="mandataireDelegateur.nomDeFamille"
            class="avatar avatar-xs mr-2"
          />
          <ng-template #defaultPicture>
            <img src="../../assets/img/theme/team-1.jpg" alt="Image placeholder" class="avatar avatar-xs mr-2" />
          </ng-template>
          <h5 class="mb-1">{{ mandataireDelegateur.prenom }} {{ mandataireDelegateur.nomDeFamille }}</h5>
        </div>
      </div>
      <small> Compte {{ mandataireDelegateur.etatCompte }} </small>
    </div>
    <h4 class="mt-3 mb-1">
      {{ mandataireDelegateur.prenom }} est un(e) {{ mandataireDelegateur.sexe }} {{ mandataireDelegateur.situationMatrimoniale }}
    </h4>
    <p class="text-sm mb-0">
      Il est originaire du magnufique pays {{ mandataireDelegateur.pays }} et reside dans la ville de {{ mandataireDelegateur.ville }} plus
      precisement à {{ mandataireDelegateur.adresse }}
    </p>
  </a>
</div>

<ng-template #searchNotFound>
  <div class="alert alert-default alert-dismissible fade show" role="alert">
    <span class="alert-inner--icon"><i class="ni ni-like-2"></i></span>
    <span class="alert-inner--text"
      ><strong>Désole!</strong> Nous n'avons pas trouvé quelque-chose, réesayer avec une autre recherche !</span
    >
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">×</span>
    </button>
  </div>
</ng-template>
